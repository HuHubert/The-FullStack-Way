<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>



<body>

    

    <button type="button" id="like">喜歡</button>


    <script>
        // 單向數據流
        // control(click) > 修改Model(state) > render渲染view(html)

        // 一般來操作
        // control(click) > 修改Model(state)
        // control(click) > render渲染view(html)



        var btnlike = document.getElementById("like");

        //狀態
        var state = {
            like: false,
            color: "red"
        }

        //用函數來修改狀態
        var setstate = function(newstate) {

            state = {
                ...state, //解構
                ...newstate
            }

            render();

        }



        //渲染
        var render = function() {

            if (state.like) {

                btnlike.innerHTML = "已點擊"
                btnlike.style.color = "red"

            } else {

                btnlike.innerHTML = "喜歡"
                btnlike.style.color = "black"

            }

        }



        // btnlike.addEventListener("click", function() {

        //     state.like = !state.like
        //     render()

        // })

        btnlike.addEventListener("click", function() {

            setstate({

                like: !state.like

            })
        })
    </script>

</body>

</html>