<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>非同步流程控制 Callback、Promise、Async/Await </title>



    <script>
        //非同步的程式
        /* function delayedadd(n1, n2, delayTime) {
        //     //設定排程,延遲一段時間執行
        //     window.setTimeout(function() {
        //         console.log(2);
        //         return n1 + n2;

        //     }, delayTime);

        //     console.log(1)

        // }

        // function test() {

        //     let result = delayedadd(3, 4, 2000);
        //     console.log(result);
        // }
        */



        //=== Callback ===

        /*function delayedadd(n1, n2, delayTime, callback) {
            //設定排程,延遲一段時間執行
            window.setTimeout(function() {

                //延遲時間後計算,呼叫Callback fn  
                callback(n1 + n2);

            }, delayTime);

            console.log(1)

        }

        function test() {

            delayedadd(3, 4, 2000, function(result) {

                console.log(result);
            });

        }*/


        //=== Promise ===

        function delayedadd(n1, n2, delayTime, callback) {
            //建立Promise物件： new Promise(執行函式)
            window.setTimeout(function() {

                //延遲時間後計算,呼叫Callback fn  
                callback(n1 + n2);

            }, delayTime);

            console.log(1)

        }

        function test() {

            delayedadd(3, 4, 2000, function(result) {

                console.log(result);
            });

        }
    </script>
</head>

<body>
    <h3>非同步流程控制 Callback、Promise、Async/Await</h3>


    <button onclick="test()" style="padding:10px 30px">Test</button>

</body>



</html>